package systems.vos.wisey.compiler.tests;

import wisey.lang.IProgram;
import wisey.threads.CWorkerThread;
import wisey.threads.IWorker;

model MWorker implements IWorker {

  public void work() override {
    ((CWorkerThread) thread).isStarted();
  }
}

controller CProgram implements IProgram {
  inject CWorkerThread* mWorkerThread;

  public int run() override {
    mWorkerThread.start(builder(MWorker).build());
    mWorkerThread.awaitResult();

    return 0;
  }
}

bind(IProgram).to(CProgram);
